(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,n,i){return{length:e,hits:0,sunk:!1,xRef:t,yRef:n,orient:i,hit:function(){this.hits+=1},isSunk:function(){return this.hits===this.length}}}function n(){const e={hitShips:0,misses:0,board:[],init:function(){for(let e=0;e<100;e++)this.board.push(0)},placeShip:function(e,n,i,o){let d=t(e,n,i,o),r=l(n,i,o,e);for(let e=0;e<r.length;e++)this.board[r[e]]=d}};return e.init(),e}function i(e){let t=["A","B","C","D","E","F","G","H","I","J"],n=0;for(let i=0;i<121;i++){let o=document.createElement("div");i<11?(o.textContent=t[i-1],o.classList.add("legendsItems")):i%11==0?(o.textContent=i/11,o.classList.add("legendsItems")):(o.id=e.id[0]+n,n++,o.classList.add("gridElement")),e.appendChild(o)}}function o(e){let t,n,i;do{t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),i=0===Math.round(Math.random())?"horizontal":"vertical"}while(!d(t,n,i,e));return{xIndex:t,yIndex:n,orientation:i,length:e}}function l(e,t,n,i){let o=[],l=10*+t;if("horizontal"===n)for(let t=0;t<i;t++)o.push(l+e),e++;else if("vertical"===n)for(let n=0;n<i;n++)o.push(10*t+e),t++;return o}function d(e,t,n,i){return"horizontal"===n?i+e<=10:i+t<=10}function r(){let e=[],n=[],i=[2,3,3,4,5];for(let d=0;d<5;d++){let r=o(i[d]),a=l(r.xIndex,r.yIndex,r.orientation,r.length);e.push(...a),n.push(t(r.length,r.xIndex,r.yIndex,r.orientation))}return e=e.flat(),{indecesList:e,myShips:n}}function a(e,t){for(let n=0;n<e.length;n++)0!==e[n]&&document.getElementById(t.id[0]+n).classList.add("ship")}function c(e){for(let t=0;t<e.length;t++)if(e.indexOf(e[t])!==t)return!1;return!0}function s(e){return e===Object(e)}function h(e){if(5===e.hitShips){bottomDiv.textContent="";let e=document.querySelector("#bodyDiv"),t=e.querySelector("#leftBodyDiv");t.textContent="";let n=e.querySelector("#rightBodyDiv");n.textContent="",e.removeChild(t),e.removeChild(n);let i=document.createElement("div");i.textContent="Game Over!",e.appendChild(i);let o=document.createElement("button");o.textContent="reset",e.appendChild(o),o.addEventListener("click",(function(){e.removeChild(o),e.removeChild(i),e.appendChild(t),e.appendChild(n),m()}))}}function u(e,t,n){let i;if(0!==n.length){if(i=function(e,t,n){let i=function(e){let t,n=[];return t=e+1,t%10!=0&&n.push(t),t=e-1,t%10!=9&&t>=0&&n.push(t),t=e+10,t<100&&n.push(t),t=e-10,t>=0&&n.push(t),n}(n[n.length-1]);for(let e=0;e<i.length;e++)if(!t.includes(i[e]))return i[e];return null}(0,t,n),null===i)do{i=Math.floor(100*Math.random())}while(t.includes(i)||"miss"===e.board[i])}else do{i=Math.floor(100*Math.random())}while(t.includes(i)||"miss"===e.board[i]);if(t.push(i),s(e.board[i])){n.push(i),e.board[i].hit();let t=document.getElementById("l"+i);if(t.classList.add("hit"),e.board[i].isSunk()){e.hitShips+=1,t.textContent="X";let n=l(e.board[i].xRef,e.board[i].yRef,e.board[i].orient,e.board[i].length);for(let e=0;e<n.length;e++)document.getElementById("l"+n[e]).textContent="X"}}else 0===e.board[i]&&document.getElementById("l"+i).classList.add("miss");h(e)}function m(){let e,t=!1;for(;!1===t;)e=r(),t=c(e.indecesList);let o=document.querySelector("#leftBodyDiv"),m=document.querySelector("#rightBodyDiv");i(o),i(m);const p=n(),f=n();for(let t=0;t<e.myShips.length;t++)f.placeShip(e.myShips[t].length,e.myShips[t].xRef,e.myShips[t].yRef,e.myShips[t].orient);let C=[],v=[];(function(e){return new Promise(((t,n)=>{let i=[2,3,3,4,5],o=["A","B","C","D","E","F","G","H","I","J"],r=0,c=[],s=document.querySelector("#leftBodyDiv"),h=document.createElement("div");h.id="shipLengthDisplay";let u=document.createElement("button");u.textContent="horizontal",u.addEventListener("click",(function(){"horizontal"===u.textContent?u.textContent="vertical":u.textContent="horizontal"}));let m=document.createElement("div"),p=document.querySelector("#bottomDiv"),f=document.createElement("div");f.id="inputsDiv";let C=document.createElement("div");C.id="xContainer";let v=document.createElement("div");v.id="yContainer";let x=document.createElement("button");x.textContent="Submit Coordinates",x.id="submitButton";let g=document.createElement("input");g.placeholder="Main X Coordinate";let y=document.createElement("input");y.placeholder="Main Y Coordinate";let b=document.createElement("div");b.textContent="Main X Coordinate";let E=document.createElement("div");function S(){h.textContent=`Place ship of length ${i[r]}`}E.textContent="Main Y Coordinate",C.appendChild(b),C.appendChild(g),v.appendChild(E),v.appendChild(y),f.appendChild(C),f.appendChild(u),f.appendChild(v),p.appendChild(h),p.appendChild(f),p.appendChild(x),p.appendChild(m),S(),x.addEventListener("click",(function(){let n=o.indexOf(g.value.toUpperCase()),C=parseInt(y.value,10)-1,v=l(n,C,u.textContent,i[r]),b=!1;for(let e=0;e<v.length;e++)c.includes(v[e])&&(m.textContent="Enter a valid coordinate.",b=!0);if(d(n,C,u.textContent,i[r])&&!1===b){e.placeShip(i[r],n,C,u.textContent);for(let e=0;e<v.length;e++)c.push(v[e]);if(a(e.board,s),g.value="",y.value="",m.textContent="",r++,r<i.length)S();else{p.removeChild(h),p.removeChild(f),p.removeChild(x),p.removeChild(m);let e=document.createElement("div");e.textContent="Begin!",p.appendChild(e),t()}}else m.textContent="Enter a valid Coordinate"}))}))})(p).then((()=>{a(p.board,o),m.querySelectorAll(".gridElement").forEach((function(e){e.addEventListener("click",(function(){if(1===e.classList.length)if(s(f.board[e.id.slice(1)])){if(f.board[e.id.slice(1)].hit(),e.classList.add("hit"),f.board[e.id.slice(1)].isSunk()){f.hitShips+=1,e.textContent="X";let t=l(f.board[e.id.slice(1)].xRef,f.board[e.id.slice(1)].yRef,f.board[e.id.slice(1)].orient,f.board[e.id.slice(1)].length);for(let e=0;e<t.length;e++)document.getElementById("r"+t[e]).textContent="X";console.log(f),h(f),u(p,C,v),h(p)}h(f),u(p,C,v),h(p)}else 0===f.board[e.id.slice(1)]&&(f.board[e.id.slice(1)]="miss",e.classList.add("miss"),u(p,C,v),h(p));h(f)}))}))}))}e.d({},{CU:()=>l}),m()})();